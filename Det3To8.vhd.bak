-- LIBRARY
LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.STD_LOGIC_UNSIGNED.all ;
USE IEEE.STD_LOGIC_SIGNED.ALL;

-- ENTITY AND PORT
ENTITY SimpleProcessor IS
PORT (
	DIN : IN STD_LOGIC_VECTOR(22 DOWNTO 0);
	RESET : IN STD_LOGIC;
	ENABLE : IN STD_LOGIC;
	CLOCK : IN STD_LOGIC
);
END SimpleProcessor;

ARCHITECTURE behavior OF SimpleProcessor IS

	-- FLASH MEMORY
	COMPONENT MyRegister IS 
	GENERIC (
		SIZE : INTEGER := 16
	);
	PORT (
		CLOCK : IN STD_LOGIC;
		DATA_IN : IN STD_LOGIC_VECTOR(SIZE - 1 DOWNTO 0);
		R_IN : IN STD_LOGIC; 
		DATA_OUT : STD_LOGIC_VECTOR(SIZE - 1 DOWNTO 0)
	);
	END COMPONENT;
	
	-- DATA SELECTOR
	COMPONENT Multiplexers IS
	GENERIC (
		SIZE : INTEGER := 16
	);
	PORT (	
		DIN, R0, R1, R2, R3, R4, R5, R6, R7, G : IN STD_LOGIC_VECTOR(SIZE - 1 DOWNTO 0);
		
		R_OUT : IN STD_LOGIC_VECTOR(7 DOWNTO 0);
		DIN_OUT : IN STD_LOGIC;
		G_OUT : IN STD_LOGIC;
		
		BUS_OUT : OUT STD_LOGIC_VECTOR(SIZE - 1 DOWNTO 0)
	);
	END COMPONENT;
	
	-- ESSENTIAL PROCESS UNIT
	COMPONENT RealControlUnit IS
	GENERIC (
		FUNCTION_SIZE : INTEGER := 4;
		REGISTER_SIZE : INTEGER := 16
	);
	PORT (	
		CLOCK : IN STD_LOGIC;
		ENABLE : IN STD_LOGIC;
		RESET : IN STD_LOGIC;
		FUNCTION_IN : IN STD_LOGIC_VECTOR(FUNCTION_SIZE + REGISTER_SIZE + 2 DOWNTO 0);
		
		R_IN : STD_LOGIC_VECTOR(7 DOWNTO 0);
		A_IN, G_IN : STD_LOGIC;
		
		D_OUT : STD_LOGIC;
		R_OUT : STD_LOGIC_VECTOR(7 DOWNTO 0)
	);	
	END COMPONENT;
BEGIN
	
END behavior;